<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>Ali's Chat Room</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
       body {
            background-color: black;
            background-image: url('stars.gif');
            font-family: "Press Start 2", Times, serif;
            color: #FF33CC;
            position: relative; 
        }

        .header {
            background-color: #FF33CC; /* Pink header */
            color: #FFF;
            padding: 10px;
            text-align: center;
            font-size: 1.5em;
        }

    @keyframes flip {
            0% { transform: rotateY(0deg); }
            50% { transform: rotateY(180deg); }
            100% { transform: rotateY(0deg); }
        }

        .title {
            font-family: 'Press Start 2P', cursive; /* Retro font */
            font-size: 2rem;
            color: purple;
            animation: flip 4s infinite; /* Flip animation */
        }

kitty.gif {
    margin-top: 0px; 
}

hr {
    margin-top: -15px;  /* Adjust this value as needed */
}
  
ul {
    list-style-position: inside; /
    padding-left: 0;             
    margin-left: 0;              
}

li {
    padding-left: 0.3em;  /* This adds a small space between the bullet and the text */
    margin-bottom: 20px; /* This will add space below each bullet point */
}



        h2 {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
    

.welcome-message {
    font-family: Times New Roman, Times, serif;
    color: yellow;
    font-size: 1.25em; /* adjust size as desired */
}


        .nav {
    font-family: 'Press Start 2P', cursive;
    color: #FF33CC;
}
        
      </style>





</head>
<body>
    <center>
        <div class="title">Ali's Blog</div> <!-- Updated title with flip effect -->
        <img src="kitty.gif" alt="kitty Gif" class="kitty-gif">
    </center>
    <hr>
    <!-- Navigation Buttons -->
<center>
    <a href="index.html" class="retro-btn nav">Home</a>
    <img src="cutehome.gif" alt="home GIF" style="vertical-align: middle; width: 30px; height: 30px;">
    <a href="about.html" class="retro-btn nav">About</a>
    <img src="about.gif" alt="about GIF" style="vertical-align: middle;">
    <a href="blog_posts.html" class="retro-btn nav">Entries</a>
    <a href="chat.html" class="retro-btn nav">Chat</a>
    <img src="chattt.gif" alt="chat GIF" style="vertical-align: middle; width: 30px; height: 30px;">
    <img src="post.gif" alt="post GIF" style="vertical-align: middle;">
    <a href="coolsite.html" class="retro-btn nav">Kool Webpages</a>
    <img src="coollinks.gif" alt="cool GIF" style="vertical-align: middle;">
    <a href="guestbook.html" class="retro-btn nav">Guestbook</a>
    <img src="book-0037.gif" alt="Guestbook GIF" style="vertical-align: middle;">
    <a href="books.html" class="retro-btn nav">Kool Books</a>
    <img src="catread.gif" alt="reading GIF" style="vertical-align: middle; width: 30px; height: 30px;">
    <a href="truthtable.html" class="retro-btn nav">Truth Table</a>
    <img src="math.gif" alt="math GIF" style="vertical-align: middle;">
    <a href="contact.html" class="retro-btn nav">Contact</a>
    <img src="phone.gif" alt="Phone GIF" style="vertical-align: middle;">
</center>

    <center>
        <img src="guestbookcute.gif">
    </center>
        

<br>

</html>

<body>

<center>
    <form id="guestbookForm">
        <input type="text" id="username" placeholder="Your Name"><br>
        <textarea id="message" rows="4" cols="50" placeholder="Write your message here"></textarea><br>
        <input type="submit" value="Submit" class="retro-btn">
    </form>
    <div id="messages">
        <!-- Messages will appear here -->
    </div>
</center>

    <!-- Initialize Firebase -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";
      import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js";
      
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyA-m-KcbjUB3TQnMY3WfimJ8-TkNmSik00",
        authDomain: "blog-d7401.firebaseapp.com",
        projectId: "blog-d7401",
        storageBucket: "blog-d7401.appspot.com",
        messagingSenderId: "860631594502",
        appId: "1:860631594502:web:febfe89706d410f0143587",
        measurementId: "G-0RVMMB3QJ0"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

// Adding a new message to Firestore
document.getElementById('guestbookForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    const username = document.getElementById('username').value;
    const messageText = document.getElementById('message').value;
    const timestamp = new Date();
    await addDoc(collection(db, 'guestbook'), {
        username: username,
        message: messageText,
        timestamp: timestamp.toISOString()  // Store as an ISO string
    });
    document.getElementById('username').value = '';
    document.getElementById('message').value = '';
});


// Reading messages from Firestore
async function loadMessages() {
    const querySnapshot = await getDocs(collection(db, 'guestbook'));
    const messagesDiv = document.getElementById('messages');
    messagesDiv.innerHTML = '';
    querySnapshot.forEach((doc) => {
        const data = doc.data();
        const timestamp = new Date(data.timestamp).toLocaleString();  // Convert ISO string to local date and time
        messagesDiv.innerHTML += `<p><strong>${data.username}</strong> (${timestamp}): ${data.message}</p>`;
    });
}



      // Initially load messages
      loadMessages();
    </script>
</body>

</html>


    </script>
</body>

</html>
