<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Ali's Blog - Guestbook</title>
    <link rel="stylesheet" type="text/css" href="your_styles.css"> <!-- Assuming you moved your styles to a separate CSS file -->
</head>

<body>
    <center>
        <marquee><font face="Comic Sans MS" size="7" color="black"><blink>Ali's Blog - Guestbook</blink></font></marquee>
    </center>
    <hr>

    <center>
        <form id="guestbookForm">
            <textarea id="message" rows="4" cols="50" placeholder="Write your message here"></textarea><br>
            <input type="submit" value="Submit" class="retro-btn">
        </form>
    </center>

    <center>
        <div id="messages">
            <!-- Messages will be displayed here -->
        </div>
    </center>

    <script src="your_firebase_config.js"></script>  <!-- Assuming you moved your Firebase config to a separate JS file -->
    <script>
        import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js";

const db = getFirestore(app); // assuming 'app' is your Firebase app

// Adding a new message to Firestore
document.getElementById('guestbookForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    const messageText = document.getElementById('message').value;
    await addDoc(collection(db, 'guestbook'), {
        message: messageText,
        timestamp: new Date()
    });
    document.getElementById('message').value = '';
});

// Reading messages from Firestore
async function loadMessages() {
    const querySnapshot = await getDocs(collection(db, 'guestbook'));
    const messagesDiv = document.getElementById('messages');
    messagesDiv.innerHTML = '';
    querySnapshot.forEach((doc) => {
        messagesDiv.innerHTML += `<p>${doc.data().message}</p>`;
    });
}

// Initially load messages
loadMessages();

    </script>
</body>

</html>
