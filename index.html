<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ali's World</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root{
      /* tweak these if you want different neons later */
      --neon-blue:   #00e5ff;
      --neon-green:  #39ff14;
      --neon-yellow: #ffff33;
      --neon-purple: #8f00ff;

      --ink:         #00ffea;          /* base text */
      --panel-bg:    rgba(0,0,0,0.78);  /* content panel */
      --sidebar-a:   #0d0022;           /* stripe A */
      --sidebar-b:   #12002e;           /* stripe B */
      --marquee-bg:  #001a4d;
    }

    html, body {
      margin: 0;
      padding: 0;
      background-image: url('stars.gif');
      background-repeat: repeat;
      color: var(--ink);
      font-family: "Comic Sans MS", "Courier New", "MS Sans Serif", monospace;
      image-rendering: pixelated;
      cursor: crosshair;
      filter: contrast(115%) saturate(125%);
    }

    .page {
      width: 760px;
      margin: 18px auto 32px;
      position: relative;
      left: 7px; /* tiny off-center nudge */
      border: 6px ridge var(--neon-blue);
      outline: 4px solid #00131a;
      background: var(--panel-bg);
      box-shadow: 0 0 40px var(--neon-blue), inset 0 0 6px #000;
        z-index: 1; /* keep content above the nebula canvas */
    }

    #glitter-title {
      font-size: 60px;
      text-align: center;
      color: var(--neon-blue);
      text-shadow: 0 0 6px #fff, 0 0 10px var(--neon-blue), 0 0 14px var(--neon-green);
      margin: 0;
      padding: 18px 10px 0;
      letter-spacing: 0.5px;
    }

    .marquee-wrap {
      margin: 10px 20px;
      border: 6px groove var(--neon-blue);
      background: var(--marquee-bg);
    }
    .marquee-wrap.small { margin: 6px 20px 14px; border-width: 4px; }
    marquee { color: var(--neon-yellow); font-weight: bold; font-size: 18px; }

    .layout { width: 100%; border-collapse: collapse; }
    .sidebar {
      width: 210px;
      background: repeating-linear-gradient(135deg, var(--sidebar-a) 0 12px, var(--sidebar-b) 12px 24px);
      border-right: 6px ridge var(--neon-purple);
      vertical-align: top;
    }
    .content {
      padding: 10px 14px 20px;
      vertical-align: top;
      background: rgba(15,0,20,0.45);
      border-left: 4px solid #21003a;
    }

    .nav a {
      display: block;
      margin: 10px 6px;
      padding: 6px 8px;
      border: 3px outset #6af7ff;
      background: #0e0e33;
      color: #a7ffff;
      text-decoration: none;
      text-align: left;
      text-transform: uppercase;
      text-shadow: 0 0 4px var(--neon-blue);
      box-shadow: 2px 2px 0 #000;
    }
    .nav a:hover {
      border-style: inset;
      color: var(--neon-green);
      background: #140043;
      transform: translate(1px,1px);
    }
    .nav-icon {
      vertical-align: middle;
      width: 26px;
      height: 26px;
      margin-right: 6px;
      image-rendering: pixelated;
    }

    .post {
      margin: 14px 0 28px;
      padding: 10px 10px 14px;
      border: 4px groove var(--neon-purple);
      background: rgba(20,0,30,0.62);
    }
    .post h3 {
      margin: 0 0 6px 0;
      color: var(--neon-purple);
      text-shadow: 0 0 6px var(--neon-purple);
    }
    .post .meta { font-size: 12px; color: var(--neon-yellow); }

    hr.retro {
      height: 12px; border: 0; margin: 10px 0 14px;
      background-image: repeating-linear-gradient(
        90deg,
        #ff0000 0 14px,
        #ffa500 14px 28px,
        #ffff00 28px 42px,
        #00cc00 42px 56px,
        #00aaff 56px 70px,
        #0000ff 70px 84px,
        #8000ff 84px 98px
      );
    }

    .blink { animation: blink 0.9s steps(1,end) infinite; }
    @keyframes blink { 50% { opacity: 0; } }

    .footer { padding: 8px; text-align: center; color: #fff; }

    /* Let the rainbow bar host the cat */
hr.retro {
  position: relative;
  overflow: visible;   /* so the cat can start off-screen */
}

/* target the FIRST rainbow bar in the main content */
.content > hr.retro:first-of-type {
  position: relative;
  overflow: visible;        /* let the cat start off-screen */
}

/* bigger cat, above the bar, slower run */
.content > hr.retro:first-of-type::after {
  content: "";
  position: absolute;
  left: -64px;              /* start just off the left edge */
  top: -60px;               /* place ABOVE the bar; tweak this */
  width: 160px;              /* cat size ‚Äî increase for larger */
  height: 160px;
  background: url("kitty.gif?v=10") center / contain no-repeat;
  image-rendering: pixelated;
  animation: kitty-rail 12s linear infinite;  /* increase seconds = slower */
  pointer-events: none;
  z-index: 9;
}

@keyframes kitty-rail {
  from { left: -64px; }
  to   { left: 100%; }      /* runs across the same bar */
}


@keyframes kitty-on-rail {
  from { left: -48px; }
  to   { left: 100%; }                  /* run across the existing bar */
}


/* bottom button strip */
.button-strip {
  margin: 8px 20px 12px;
  padding: 10px;
  border: 4px groove var(--neon-blue);
  background: rgba(10, 0, 25, 0.6);
  display: flex;
  flex-wrap: wrap;
  gap: 10px 12px;
  justify-content: center;
  align-items: center;
}

.button-strip img {
  height: 31px;                 /* bump to 40px if you want bigger badges */
  image-rendering: pixelated;
  display: block;
}



/* sidebar sticker wall */
.sticker-wall{
  margin: 10px 8px 14px;
  padding: 8px;
  border: 3px inset #6af7ff;
  background: rgba(0,0,0,0.35);
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
  justify-items: center;
  align-items: center;
  position: relative;
}
.sticker-wall img{
  width: 88px;          /* classic button size; scales different gifs uniformly */
  height: auto;
  image-rendering: pixelated;
  display: block;
}
.sticker-wall img:hover{
  transform: translateY(-1px);
  filter: drop-shadow(0 0 6px var(--neon-green));
}
.sticker-wall .wide{
  grid-column: span 2;  /* let a wide one span the row */
  width: 188px;
}

  /* Star Wars ships flanking the site title */
#glitter-title { position: relative; }  /* anchor for pseudo-elements */

#glitter-title::before,
#glitter-title::after {
  content: "";
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 110px;             /* size of the ships */
  height: 70px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  image-rendering: pixelated;
  filter: drop-shadow(0 0 6px var(--neon-blue));
  pointer-events: none;      /* don‚Äôt block clicks */
}

#glitter-title::before {
  left: 35px;                 /* nudge from left edge of the title area */
  background-image: url("starwar1.gif?v=1");
}
#glitter-title::after {
  right: 30px;                /* nudge from right edge of the title area */
  background-image: url("starwar2.jpg?v=1");
}

/* Optional gentle hover wiggle ‚Äì remove if you want them static */
#glitter-title:hover::before { transform: translateY(-50%) rotate(-3deg); }
#glitter-title:hover::after  { transform: translateY(-50%) rotate(3deg); }





  .hyperspace::before{
  content:""; position:fixed; inset:0; pointer-events:none; z-index:9999;
  background:
    radial-gradient(circle at 50% 50%, rgba(255,255,255,.25), transparent 60%),
    repeating-linear-gradient(90deg, rgba(0,255,255,.35) 0 3px, transparent 3px 8px);
  animation: warp 600ms ease-in-out;
}
@keyframes warp{
  0% { opacity:0; transform: scaleX(1) }
  40%{ opacity:1; transform: scaleX(1.8) }
  100%{ opacity:0; transform: scaleX(1) }
}

.vhs::after{
  content:""; position:fixed; inset:0; z-index:9999; pointer-events:none;
  background:
    linear-gradient(#000,transparent 12%,#0000 88%,#000),
    repeating-linear-gradient(0deg, rgba(255,255,255,.06) 0 2px, transparent 2px 4px);
  animation: vhs 240ms steps(2,end);
}
@keyframes vhs { from{ opacity:0 } to{ opacity:1 } }

    @keyframes flybyL { 0%{ transform:translate(-120%, -10px) rotate(8deg) }
  70%{ transform:translate(10%, 4px) rotate(-6deg) } 100%{ transform:none } }
@keyframes flybyR { 0%{ transform:translate(120%, 10px) rotate(-8deg) }
  70%{ transform:translate(-10%, -6px) rotate(6deg) } 100%{ transform:none } }

/* trigger class you can add via JS */
.flyby #glitter-title::before { animation: flybyL 1.6s ease-out; }
.flyby #glitter-title::after  { animation: flybyR 1.6s ease-out; }


:root.morning { --neon-blue:#00e5ff; --neon-purple:#00b2ff; }
:root.night   { --neon-blue:#39a0ff; --neon-purple:#8f00ff; }

    .sound-toggle{
  margin: 6px auto 12px; display:block;
  background:#0e0e33; color:#a7ffff;
  border:2px outset #6af7ff; padding:6px 10px;
  font-family: inherit; cursor: pointer; box-shadow: 2px 2px 0 #000;
}
.sound-toggle[aria-pressed="true"]{ border-style: inset; color: var(--neon-green); }


.sticker-controls{
  display:flex; gap:8px; justify-content:center; margin:6px 0 10px;
}
.sticker-controls button{
  padding:6px 10px; border:2px outset #6af7ff; background:#0e0e33; color:#a7ffff;
  font-family:inherit; cursor:pointer; box-shadow:2px 2px 0 #000;
}
.sticker-controls button:active{ border-style: inset; color:var(--neon-green); }

.sticker-wall img{ transition: transform 120ms ease; }   /* keep your existing rule, add this line */
@keyframes pop { 50% { transform: scale(1.08) } }
.sticker-wall.shuffled img{ animation: pop 180ms; }


/* homepage-embedded chat */
.chat-frame {
  width: 100%;
  height: 720px;         /* tweak to taste */
  border: 4px groove var(--neon-blue);
  background: #000;
}
@media (max-width: 800px){
  .chat-frame { height: 85vh; }
}

/* inline warning banner */
.warnline{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  color: var(--neon-yellow);
  font-weight: bold;
  text-shadow: 0 0 4px #000, 0 0 8px var(--neon-purple);
}
.warn-ico{
  width: 28px;           /* tweak size */
  height: 28px;
  image-rendering: pixelated;
  display: inline-block;
  filter: drop-shadow(0 0 6px var(--neon-blue));
}

    /* === ALT NEOCITY UPGRADE PACK === */

/* Nebula canvas sits under .page but above the tiled stars.gif */
#neoNebula {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  opacity: 0;                    /* off until alt skin toggled */
  transition: opacity .35s ease;
  mix-blend-mode: screen;
}

/* Floating control bar */
#neoBar {
  position: fixed;
  top: 10px;
  right: 10px;
  z-index: 10000;
  display: flex;
  gap: 8px;
  padding: 6px 8px;
  border: 3px ridge var(--neon-blue);
  background: rgba(0,0,0,.55);
  box-shadow: 0 10px 24px rgba(0,0,0,.6);
  font-family: inherit;
}
#neoBar button {
  cursor: pointer;
  background: #0e0e33;
  color: #a7ffff;
  border: 2px outset #6af7ff;
  padding: 6px 10px;
  image-rendering: pixelated;
}
#neoBar button:active { border-style: inset; color: var(--neon-green); }

/* When the alt skin is active‚Ä¶ */
html[data-skin="neo"] #neoNebula { opacity: .9; }

html[data-skin="neo"] .page {
  position: relative;
  z-index: 1;
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(0,255,221,.10), transparent 60%),
    radial-gradient(1200px 700px at 120% 120%, rgba(255,0,200,.08), transparent 60%),
    var(--panel-bg);
  border-image: conic-gradient(
    from 0.25turn,
    #00e5ff 0 10%, #8f00ff 10% 20%, #39ff14 20% 30%, #ffff33 30% 40%,
    #00e5ff 40% 50%, #8f00ff 50% 60%, #39ff14 60% 70%, #ffff33 70% 80%,
    #00e5ff 80% 100%
  ) 8;
  outline-color: #050a16;
  box-shadow:
    0 0 40px rgba(0,238,255,.35),
    0 0 120px rgba(143,0,255,.25) inset,
    0 0 10px #000 inset;
}

/* Holographic title sheen */
html[data-skin="neo"] #glitter-title {
  background: conic-gradient(
    from 0.25turn,
    #e6ffff 0%,
    #7df 12%,
    #0ff 22%,
    #9f7 35%,
    #ff9 48%,
    #f8f 64%,
    #c8f 78%,
    #e6ffff 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: 0 0 6px #fff, 0 0 18px rgba(0,255,255,.55);
  position: relative;
  overflow: visible;
}
html[data-skin="neo"] #glitter-title::after {
  content: "";
  position: absolute;
  left: -5%;
  top: 0;
  width: 20%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.65), transparent);
  transform: skewX(-20deg);
  filter: blur(1px);
  animation: neoSheen 3.8s linear infinite;
}
@keyframes neoSheen { from { left: -25% } to { left: 110% } }

/* Animate the rainbow bar */
html[data-skin="neo"] hr.retro {
  background-size: 700px 100%;
  animation: slidebar 18s linear infinite;
}
@keyframes slidebar {
  from { background-position: 0 0 }
  to   { background-position: 700px 0 }
}

/* Subtle hover glitch on posts */
html[data-skin="neo"] .post {
  position: relative;
  overflow: hidden;
  transition: filter .2s ease;
}
html[data-skin="neo"] .post:hover {
  filter: hue-rotate(10deg) saturate(140%);
}
html[data-skin="neo"] .post::after {
  content: "";
  position: absolute; inset: 0;
  background:
    repeating-linear-gradient(180deg, rgba(255,255,255,.03) 0 2px, transparent 2px 4px);
  opacity: .0;
  transition: opacity .2s ease;
  pointer-events: none;
}
html[data-skin="neo"] .post:hover::after { opacity: .25; }

/* CRT scanlines toggle on the whole page */
html[data-crt="on"]::before {
  content: "";
  position: fixed; inset: 0; pointer-events: none;
  background:
    linear-gradient(transparent 96%, rgba(0,0,0,.4)),
    repeating-linear-gradient(0deg, rgba(255,255,255,.05) 0 2px, rgba(0,0,0,0) 2px 4px);
  opacity: .65;
  z-index: 10001;
}

/* Cursor sparkles */
.neo-sparkle {
  position: fixed; width: 9px; height: 9px; pointer-events: none;
  background: radial-gradient(circle at 50% 50%, #fff, #fff0 70%);
  box-shadow:
    0 0 6px var(--neon-blue),
    0 0 14px var(--neon-purple);
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(1);
  opacity: 1;
  transition: transform .6s ease-out, opacity .6s ease-out;
  z-index: 10000;
}
@media (prefers-reduced-motion: reduce) {
  #neoNebula { display: none; }
  .neo-sparkle { display: none; }
}

  </style>
</head>
<body>
  <canvas id="neoNebula" aria-hidden="true"></canvas>

<div id="neoBar" role="toolbar" aria-label="Neo controls">
  <button id="neoAltBtn" type="button" title="Toggle alt skin">ALT SKIN</button>
  <button id="neoCRTBtn" type="button" title="Toggle scanlines">CRT</button>
  <button id="neoMotionBtn" type="button" title="Toggle motion">FULL MOTION</button>
</div>
  
  <div class="page">
    <h1 id="glitter-title">Ali's World</h1>

    <div class="marquee-wrap">
      <marquee behavior="alternate" scrollamount="6">
        ‚òÖ welcome to my webspace ‚òÖ best viewed on desktop ‚òÖ
      </marquee>
    </div>

    <table class="layout">
      <tr>
        <td class="sidebar">
          <div class="nav">
            <a href="index.html"><img src="cutehome.gif" alt="Home" class="nav-icon">Home</a>
            <a href="about.html"><img src="about.gif" alt="About" class="nav-icon">About</a>
            <a href="blog_posts.html"><img src="post.gif" alt="Entries" class="nav-icon">Entries</a>
<a href="#chat-room"><img src="chattt.gif" alt="Chat" class="nav-icon">Chat</a>
            <a href="coolsite.html"><img src="coollinks.gif" alt="Kool Webpages" class="nav-icon">Kool Webpages</a>
            <a href="guestbook.html"><img src="book-0037.gif" alt="Guestbook" class="nav-icon">Guestbook</a>
            <a href="books.html"><img src="catread.gif" alt="Kool Books" class="nav-icon">Kool Books</a>
            <a href="oudsimulator.html">Oud Simulator</a>
            <a href="contact.html"><img src="phone.gif" alt="Contact" class="nav-icon">Contact</a>
          </div>

          <div style="text-align:center; padding:10px">
            <span style="font-size:12px; color:var(--neon-yellow)">You are visitor #</span>
            <span id="hitCount" style="display:inline-block; padding:4px 8px; border:3px inset #0aa; background:#000; color:#00ff00; font-family:'Courier New', monospace; letter-spacing:2px;">000001</span>
          </div>

<div style="padding: 0 10px 12px; color:#fff; font-size:12px">
  <div>
    <a href="https://catofminerva.com/contact.html">Email Me</a>
  </div>
  <div style="margin-top:6px">
    <a href="https://catofminerva.com/guestbook.html">Sign my Guestbook</a>
  </div>
  <div style="margin-top:6px">
    Last updated: <span id="lastUpdated">sometime in 1999</span>
  </div>
</div>

          <div class="sticker-wall">
  <img src="arabic.gif" alt="Arabic">
  <img src="qatar.gif" alt="Qatar">
  <img src="pali.gif" alt="Palestine">
  <img src="sleepycat.gif" alt="Sleepy cat">
  <img src="peta.gif" alt="PETA">
  <img src="fist.gif" alt="Fist">
  <img src="freespeechonline.gif" alt="Free Speech Online">
  <img src="scifi.gif" alt="Sci-Fi" class="wide">
<img src="pals.png" alt="Sci-Fi" class="wide">
<img src="intifada.gif" alt="Sci-Fi" class="wide">
</div>

          <div class="sticker-controls">
  <button id="shuffleStickers">Shuffle</button>
  <button id="resetStickers"   title="Put them back how they were">Reset</button>
</div>

        </td>

        <td class="content">
          <hr class="retro">

          <div class="post">
            <h3>Welcome <span class="blink">!</span></h3>
            <div class="meta">1999 ¬∑</div>
<p class="warnline">
  <img src="warning.gif" alt="Warning" class="warn-ico">
  <span>WARNING: THIS SITE IS NOT OPTIMISED FOR MOBILE VIEW!!</span>
  <img src="warning.gif" alt="" class="warn-ico" aria-hidden="true">
</p>
            <p>hi...still figuring this out lol</p>
            <p>&nbsp;</p>
            <p>i‚Äôve been messing with the html and it kinda works?? don‚Äôt click around too much yet coz half the links are broken ;-)</p>
            <br>
            <p>chat room is up now (!!!) but if it crashes it‚Äôs probly just my server being moody again haha.</p>
            <p>&nbsp;</p>
            <p>i‚Äôm gonna add more posts when i finish typing them out from my notebook (yeah i still write stuff on paper in big 2025 :')).</p>
          </div>

          <div class="post">
            <h3>Pet and feed Zaki</h3>
            <div class="meta">Virtual pet</div>
            <iframe width="314" height="321" scrolling="no" src="https://gifypet.neocities.org/pet/pet.html?name=Zaki&amp;dob=1698667285&amp;gender=b&amp;element=Fire&amp;pet=cat.gif&amp;map=night.gif&amp;background=https%3A%2F%2Fmedia.giphy.com%2Fmedia%2FFlodpfQUBSp20%2Fgiphy.gif&amp;tablecolor=%23000000&amp;textcolor=%238700e0" frameborder="0"></iframe>
          </div>

          <div class="marquee-wrap small">
            <marquee scrollamount="4" direction="right">
              under construction ‚òÖ if the page looks weird blame netscape ‚òÖ ring me on icq 12345678
            </marquee>
          </div>

          <hr class="retro">
          <div class="post" id="chat-room">
  <h3>Live Chat</h3>
  <div class="meta">web chat ¬∑ room=lobby</div>
<iframe class="chat-frame"
        src="chat.html?room=lobby&embed=1&v=2"
        title="Ali‚Äôs Web Chat"
        loading="lazy"
        referrerpolicy="no-referrer"></iframe>

</div>

        </td>
      </tr>
    </table>

    <div class="button-strip" aria-label="buttons">
  <img src="icc.gif" alt="ICC">
  <img src="dp.gif" alt="DP">
  <img src="anarchynow.jpeg" alt="Anarchy Now">
  <img src="freespeech.gif" alt="Free Speech">
  <img src="privacy.gif" alt="Privacy">
  <img src="piracy.png" alt="Piracy">
</div>

    <div class="footer">
      <marquee scrollamount="3" direction="right">¬© 1999‚Äì2000 Ali's Blog ‚Äî Part of the Galactic Webring ¬∑ <a href="#" onclick="alert('Prev page broken'); return false;">Prev</a> | <a href="#" onclick="alert('Next page loading...'); return false;">Next</a></marquee>
    </div>
  <audio id="blip" preload="auto">
  <source src="kawaii%208bit.mp3" type="audio/mpeg">
</audio>
    <button id="soundToggle" class="sound-toggle" aria-pressed="false" title="Toggle UI sounds">üîá sound</button>
  </div>

<script>
/* hit counter */
(() => {
  try {
    const key = 'geocities_hit_counter';
    const n = (parseInt(localStorage.getItem(key) || '0', 10) + 1);
    localStorage.setItem(key, n);
    document.getElementById('hitCount').textContent = String(n).padStart(6,'0');
  } catch(e){}
})();

/* last updated label */
document.getElementById('lastUpdated').textContent = document.lastModified || '1999-08-01';

/* tiny nav misalignment */
(() => {
  const links = document.querySelectorAll('.nav a');
  links.forEach(a => {
    const ml = 6 + Math.floor(Math.random()*7);
    const fs = 12 + Math.floor(Math.random()*3);
    a.style.marginLeft = ml + 'px';
    a.style.fontSize   = fs + 'px';
    if (Math.random() < 0.4) a.style.letterSpacing = '1px';
  });
})();




/* Konami hyperspace: up up down down left right left right B A */
(() => {
  const seq = ['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a'];
  let buf = [];
  document.addEventListener('keydown', e => {
    buf.push(e.key.length===1 ? e.key.toLowerCase() : e.key);
    buf = buf.slice(-seq.length);
    if (seq.every((k,i)=>k===buf[i])) {
      document.documentElement.classList.add('hyperspace');
      setTimeout(() => document.documentElement.classList.remove('hyperspace'), 650);
    }
  });
})();

/* VHS page transition on internal links */
(() => {
  document.querySelectorAll('.page a[href]').forEach(a => {
    const url = a.getAttribute('href') || '';
    if (url.startsWith('#') || /^(https?:)?\/\//i.test(url)) return;
    a.addEventListener('click', e => {
      e.preventDefault();
      document.documentElement.classList.add('vhs');
      setTimeout(() => { window.location.href = url; }, 200);
    });
  });
})();

/* periodic title flyby for the ships */
setInterval(() => {
  document.documentElement.classList.add('flyby');
  setTimeout(() => document.documentElement.classList.remove('flyby'), 1700);
}, 14000);

/* time-of-day palette */
(() => {
  const h = new Date().getHours();
  document.documentElement.classList.add((h>=6 && h<17) ? 'morning' : 'night');
})();

/* UI sounds: opt-in with button; play on click (pointerdown) */
(() => {
  const a = document.getElementById('blip');
  const btn = document.getElementById('soundToggle');
  if (!a || !btn) return;

  // Ensure the audio element has a concrete src, even if only <source> was provided
  if (!a.currentSrc) { a.src = 'kawaii%208bit.mp3'; a.load(); }

  let enabled = false;
  a.volume = 0.5;

  btn.addEventListener('click', () => {
    enabled = !enabled;
    btn.setAttribute('aria-pressed', String(enabled));
    btn.textContent = enabled ? 'üîä sound' : 'üîá sound';
    // prime audio without making noise
    try { a.play().then(() => { a.pause(); a.currentTime = 0; }).catch(()=>{}); } catch(_){}
  });

  const beep = () => {
    if (!enabled) return;
    try { a.currentTime = 0; a.play(); } catch(_){}
  };

  // fire on pointerdown so it plays before navigation
  document.querySelectorAll('.nav a').forEach(el => {
    el.addEventListener('pointerdown', beep);
    el.addEventListener('keydown', e => {
      if (e.key === 'Enter' || e.key === ' ') beep();
    });
  });

  // give the beep a hair more time before the VHS transition navigates
  const links = document.querySelectorAll('.page a[href]');
  links.forEach(aTag => {
    const url = aTag.getAttribute('href') || '';
    if (url.startsWith('#') || /^(https?:)?\/\//i.test(url)) return;
    aTag.addEventListener('click', e => {
      e.preventDefault();
      document.documentElement.classList.add('vhs');
      setTimeout(() => { window.location.href = url; }, 350); // was 200
    });
  });
})();


  /* Sticker shuffle with visible buttons; remembers order */
(() => {
  const wall = document.querySelector('.sticker-wall');
  if (!wall) return;

  const key = 'sticker_order_v1';
  const imgs = Array.from(wall.querySelectorAll('img'));
  const idOf = img => img.getAttribute('src') || img.alt;

  // Save the original order once
  const original = imgs.map(idOf);

  function apply(order){
    const map = new Map(imgs.map(img => [idOf(img), img]));
    order.forEach(id => { const img = map.get(id); if (img) wall.appendChild(img); });
  }

  // Load saved order if present
  try {
    const saved = JSON.parse(localStorage.getItem(key) || 'null');
    if (Array.isArray(saved) && saved.length) apply(saved);
  } catch(_) {}

  function shuffle(){
    const order = Array.from(wall.querySelectorAll('img')).map(idOf);
    for (let i = order.length - 1; i > 0; i--){
      const j = Math.floor(Math.random() * (i + 1));
      [order[i], order[j]] = [order[j], order[i]];
    }
    apply(order);
    localStorage.setItem(key, JSON.stringify(order));
    wall.classList.add('shuffled'); setTimeout(()=>wall.classList.remove('shuffled'), 220);
  }

  function reset(){
    apply(original);
    localStorage.setItem(key, JSON.stringify(original));
  }

  document.getElementById('shuffleStickers')?.addEventListener('click', shuffle);
  document.getElementById('resetStickers')?.addEventListener('click', reset);
})();




/* === ALT NEOCITY UPGRADE PACK === */
(() => {
  const root = document.documentElement;

  /* 1) Floating controls */
  const bar = document.createElement('div');
  bar.id = 'neoBar';
  bar.innerHTML = `
    <button id="neoSkinBtn"    type="button" title="Toggle alt skin">ALT SKIN</button>
    <button id="neoCRTBtn"     type="button" title="Toggle scanlines">CRT</button>
    <button id="neoMotionBtn"  type="button" title="Reduce motion">LOW MOTION</button>
  `;
  document.body.appendChild(bar);

  const prefersLow = matchMedia('(prefers-reduced-motion: reduce)').matches;
  let lowMotion = prefersLow;

  /* 2) Nebula canvas behind everything */
  const cv = document.createElement('canvas');
  cv.id = 'neoNebula';
  cv.width = innerWidth * devicePixelRatio;
  cv.height = innerHeight * devicePixelRatio;
  document.body.prepend(cv);
  const ctx = cv.getContext('2d');

  const DPR = Math.max(1, devicePixelRatio || 1);
  function fit() {
    cv.width = innerWidth * DPR;
    cv.height = innerHeight * DPR;
    cv.style.width = innerWidth + 'px';
    cv.style.height = innerHeight + 'px';
  }
  addEventListener('resize', fit);

  // Procedural ‚Äúbubbles in space‚Äù without assets
  const MAX = 24;
  const blobs = [];
  function R(a,b){ return a + Math.random()*(b-a); }
  function make() {
    return {
      x: R(0, cv.width), y: R(cv.height*0.8, cv.height*1.4),
      r: R(28*DPR, 82*DPR),
      vy: R(-0.5*DPR, -0.18*DPR),
      hue: R(180, 320), phase: R(0, Math.PI*2), sway: R(0.2, 0.8)*DPR
    };
  }
  for (let i=0;i<MAX;i++) blobs.push(make());

  function paint() {
    if (root.dataset.skin !== 'neo' || lowMotion) { ctx.clearRect(0,0,cv.width,cv.height); requestAnimationFrame(paint); return; }
    ctx.clearRect(0,0,cv.width,cv.height);
    for (const b of blobs) {
      b.y += b.vy;
      b.x += Math.sin(b.phase += 0.01) * b.sway * 0.3;
      if (b.y + b.r < -40) Object.assign(b, make(), { y: cv.height + b.r });

      const g = ctx.createRadialGradient(b.x - b.r*0.35, b.y - b.r*0.35, b.r*0.05, b.x, b.y, b.r);
      g.addColorStop(0, `hsla(${b.hue},95%,88%,.35)`);
      g.addColorStop(.55, `hsla(${b.hue},85%,60%,.14)`);
      g.addColorStop(1, 'transparent');
      ctx.fillStyle = g;
      ctx.beginPath(); ctx.arc(b.x, b.y, b.r, 0, Math.PI*2); ctx.fill();

      // highlight
      ctx.fillStyle = 'rgba(255,255,255,.16)';
      ctx.beginPath(); ctx.ellipse(b.x - b.r*0.35, b.y - b.r*0.45, b.r*0.22, b.r*0.14, 0, 0, Math.PI*2); ctx.fill();
    }
    requestAnimationFrame(paint);
  }
  paint();

  /* 3) Cursor sparkles, gated by motion */
  let last = 0;
  addEventListener('pointermove', e => {
    if (lowMotion || root.dataset.skin !== 'neo') return;
    const t = performance.now();
    if (t - last < 16) return; // throttle
    last = t;
    const s = document.createElement('div');
    s.className = 'neo-sparkle';
    s.style.left = e.clientX + 'px';
    s.style.top  = e.clientY + 'px';
    document.body.appendChild(s);
    requestAnimationFrame(() => {
      s.style.transform = 'translate(-50%,-50%) scale(0.2)';
      s.style.opacity = '0';
    });
    setTimeout(() => s.remove(), 700);
  }, {passive:true});

  /* 4) Buttons */
  document.getElementById('neoSkinBtn').addEventListener('click', () => {
    root.dataset.skin = root.dataset.skin === 'neo' ? '' : 'neo';
  });
  document.getElementById('neoCRTBtn').addEventListener('click', () => {
    root.dataset.crt = root.dataset.crt === 'on' ? 'off' : 'on';
  });
  document.getElementById('neoMotionBtn').addEventListener('click', (e) => {
    lowMotion = !lowMotion;
    e.currentTarget.textContent = lowMotion ? 'LOW MOTION' : 'FULL MOTION';
  });

  /* 5) Start with motion reduced if the OS asks for it */
  if (prefersLow) { lowMotion = true; }

  /* Optional: start with alt skin on by default. Comment this line out if you prefer it off. */
  // root.dataset.skin = 'neo';
})();



/* === NEO LAYER: canvas, CRT, motion toggle ‚Äî zero deps === */
(() => {
  const root = document.documentElement;

  // Grab existing elements (from step 1). If missing, create them.
  let cv = document.getElementById('neoNebula');
  if (!cv) {
    cv = document.createElement('canvas');
    cv.id = 'neoNebula';
    document.body.prepend(cv);
  }
  let bar = document.getElementById('neoBar');
  if (!bar) {
    bar = document.createElement('div');
    bar.id = 'neoBar';
    bar.innerHTML = `
      <button id="neoAltBtn" type="button">ALT SKIN</button>
      <button id="neoCRTBtn" type="button">CRT</button>
      <button id="neoMotionBtn" type="button">FULL MOTION</button>
    `;
    document.body.appendChild(bar);
  }

  const altBtn = document.getElementById('neoAltBtn');
  const crtBtn = document.getElementById('neoCRTBtn');
  const motBtn = document.getElementById('neoMotionBtn');

  // Respect OS preference but allow override
  let lowMotion = matchMedia('(prefers-reduced-motion: reduce)').matches;

  // Make sure the canvas actually draws behind your content
  const ctx = cv.getContext('2d');
  const DPR = Math.max(1, devicePixelRatio || 1);
  function fit() {
    cv.width = Math.floor(innerWidth * DPR);
    cv.height = Math.floor(innerHeight * DPR);
    cv.style.width = innerWidth + 'px';
    cv.style.height = innerHeight + 'px';
  }
  fit(); addEventListener('resize', fit);

  // Procedural nebula-bubbles
  const MAX = 26;
  const blobs = [];
  const R = (a,b)=> a + Math.random()*(b-a);
  function make() {
    return {
      x: R(0, cv.width), y: R(cv.height*0.9, cv.height*1.3),
      r: R(28*DPR, 84*DPR),
      vy: R(-0.55*DPR, -0.18*DPR),
      hue: R(180, 320),
      sway: R(0.25*DPR, 0.9*DPR),
      t: R(0, Math.PI*2)
    };
  }
  for (let i=0;i<MAX;i++) blobs.push(make());

  function tick() {
    // If alt skin is off, keep canvas invisible and idle
    if (root.dataset.skin !== 'neo') {
      ctx.clearRect(0,0,cv.width,cv.height);
      requestAnimationFrame(tick);
      return;
    }

    // Draw
    ctx.clearRect(0,0,cv.width,cv.height);

    if (lowMotion) {
      // Static gradient when motion is reduced
      const g = ctx.createLinearGradient(0,0,0,cv.height);
      g.addColorStop(0,'rgba(120,200,255,.12)');
      g.addColorStop(1,'rgba(200,120,255,.10)');
      ctx.fillStyle = g;
      ctx.fillRect(0,0,cv.width,cv.height);
    } else {
      for (const b of blobs) {
        b.y += b.vy;
        b.x += Math.sin(b.t += 0.012) * b.sway * 0.25;
        if (b.y + b.r < -40) Object.assign(b, make(), { y: cv.height + b.r });

        const g = ctx.createRadialGradient(
          b.x - b.r*0.35, b.y - b.r*0.35, b.r*0.05,
          b.x, b.y, b.r
        );
        g.addColorStop(0, `hsla(${b.hue},95%,88%,.35)`);
        g.addColorStop(.55, `hsla(${b.hue},85%,60%,.14)`);
        g.addColorStop(1, 'transparent');
        ctx.fillStyle = g;
        ctx.beginPath(); ctx.arc(b.x,b.y,b.r,0,Math.PI*2); ctx.fill();

        // highlight
        ctx.fillStyle = 'rgba(255,255,255,.16)';
        ctx.beginPath();
        ctx.ellipse(b.x - b.r*0.35, b.y - b.r*0.45, b.r*0.22, b.r*0.14, 0, 0, Math.PI*2);
        ctx.fill();
      }
    }
    requestAnimationFrame(tick);
  }
  tick();

  // Cursor sparkles (only when alt skin is on and motion allowed)
  let last = 0;
  addEventListener('pointermove', e => {
    if (root.dataset.skin !== 'neo' || lowMotion) return;
    const now = performance.now();
    if (now - last < 16) return; // throttle
    last = now;
    const d = document.createElement('div');
    d.className = 'neo-sparkle';
    d.style.left = e.clientX + 'px';
    d.style.top  = e.clientY + 'px';
    document.body.appendChild(d);
    requestAnimationFrame(() => {
      d.style.transform = 'translate(-50%,-50%) scale(0.2)';
      d.style.opacity = '0';
    });
    setTimeout(() => d.remove(), 700);
  }, {passive:true});

  // Buttons
  altBtn?.addEventListener('click', () => {
    const on = root.dataset.skin === 'neo';
    root.dataset.skin = on ? '' : 'neo';
    // Make the canvas visible via CSS when on
  });
  crtBtn?.addEventListener('click', () => {
    root.dataset.crt = root.dataset.crt === 'on' ? '' : 'on';
  });
  motBtn?.addEventListener('click', () => {
    lowMotion = !lowMotion;
    motBtn.textContent = lowMotion ? 'LOW MOTION' : 'FULL MOTION';
  });

  // Start with ALT SKIN on so you can see it immediately
  root.dataset.skin = 'neo';
})();

 
</script>


  



</body>
</html>
